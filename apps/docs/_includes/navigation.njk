{% block content %}
<vwc-nav>
	<style>
		.hidden {
			display: none;
		}

		.components-filter {
			background-color: var(--vvd-color-neutral-100);
			padding: 8px;
			border-radius: 8px;
		}
	</style>
	<script>
		function isComponentHidden(component, term) {
			return component.tagName === 'VWC-NAV-ITEM' && !component.text.toLowerCase().includes(term.toLowerCase());
		}

		function filterComponentsInput(e) {
			const term = e.target.value;
			const components = Array.from(document.querySelector('[label="Components"]').children);
			components.forEach(component => {
				isComponentHidden(component, term) ?
					component.classList.add('hidden') :
					component.classList.remove('hidden')
			});
			document.querySelectorAll('vwc-nav-disclosure:not([label="Components"])').forEach(disclosure => {
				term !== '' ?
					disclosure.classList.add('hidden') :
					disclosure.classList.remove('hidden')
			});
		};
	</script>
	<vwc-text-field class="components-filter" icon="search-line" placeholder="Find Component" label="Filter Components" oninput="filterComponentsInput(event)"></vwc-text-field>
	<vwc-nav-disclosure label="Getting Started" open>
		{%  for item in introduction %}
		<vwc-nav-item
			href="{{ ('/getting-started/' + item.title) | url }}"
			text="{{ item.title | replace("-", " ") | capitalize }}"
			{% if ('/getting-started/' + item.title + '/') == page.url %}aria-current="page"{% endif %}></vwc-nav-item>
		{% endfor %}
	</vwc-nav-disclosure>

  <vwc-nav-disclosure label="Design System" open>
    {%  for item in designs | sort(false, false, 'title') %}
    <vwc-nav-item
			href="{{ ('/designs/' + item.title) | url }}"
			text="{{ item.title | replace("-", " ") | capitalize }}"
			{% if ('/designs/' + item.title + '/') == page.url %}aria-current="page"{% endif %}></vwc-nav-item>
    {% endfor %}
  </vwc-nav-disclosure>

  <vwc-nav-disclosure label="Components" open>
    {%  for item in components | publicComponentsFilter | sort(false, false, 'title') %}
    <vwc-nav-item
			href="{{ ('/components/' + item.title) | url }}"
			text="{{ item.title | replace("-", " ") | capitalize }}
			{% if (item.status) == "alpha" %}ðŸ§ª{% endif %}
			{% if (item.status) == "underlying" %}ðŸ”’{% endif %}"
			{% if ('/components/' + item.title + '/') == page.url %}aria-current="page"{% endif %}></vwc-nav-item>
    {% endfor %}
  </vwc-nav-disclosure>
</vwc-nav>
{% endblock %}
