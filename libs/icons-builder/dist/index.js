(()=>{"use strict";function e(e,o,t,n){return new(t||(t=Promise))((function(i,r){function c(e){try{s(n.next(e))}catch(e){r(e)}}function a(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var o;e.done?i(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(c,a)}s((n=n.apply(e,o||[])).next())}))}const o="https://icon.resources.vonage.com",t="5.5.5";function n(e,o){const t=figma.createFrame();return t.name=e,t.resize(1e3,50),t.cornerRadius=8,t.y=o+50,figma.currentPage.appendChild(t),t}function i(n){return e(this,void 0,void 0,(function*(){try{const e=yield fetch(`${o}/v${t}/${n}.svg`);return yield e.text()}catch(e){return console.error("failed to load svg"+e),""}}))}figma.showUI(__html__),figma.ui.onmessage=r=>e(void 0,void 0,void 0,(function*(){if("add-icons"===r.type){figma.currentPage.children.forEach((e=>{"FRAME"!==e.type&&"COMPONENT"!==e.type&&"INSTANCE"!==e.type||e.remove()}));const r=function(e){const o={uncategorized:[]};return e.forEach((e=>{const t=e.tag.find((e=>e.startsWith("category_")));t?(o[t]||(o[t]=[]),o[t].push(e)):o.uncategorized.push(e)})),o}(yield function(){return e(this,void 0,void 0,(function*(){try{return(yield fetch(`${o}/v${t}/_manifest.json`)).json()}catch(e){return console.error("error loading the _manifest",e),void figma.closePlugin()}}))}()),a=Object.keys(r);let s=0;for(let e=0;e<a.length;e++){const o=a[e],t=n(o,s),l=r[o];let d=0;for(let e=0;e<l.length;e++){const o=l[e],n=yield i(o.id);try{const i=figma.createNodeFromSvg(n);i.name=(c=o.id,/-(solid|line|mono|color)$/.test(c)?c.replace(/-(solid|line|mono|color)$/,"/$1"):c),i.x=50*d+10,i.y=50*Math.floor(e/20)+10,d>=19?(d=0,t.resize(t.width,t.height+50)):d++,s=t.y+t.height;const r=figma.createComponentFromNode(i);r.description="keyword: "+o.keyword.join(", "),t.appendChild(r)}catch(e){console.error(o.id+" failed to load")}}console.log(o+" category loaded -> "+(e+1)+" of "+a.length+" categories")}console.log("All categories loaded!!!!"),figma.closePlugin()}var c}))})();