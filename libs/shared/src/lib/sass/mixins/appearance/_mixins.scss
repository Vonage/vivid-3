@use 'sass:selector';
@use 'sass:list';
@use 'sass:map';

@use '../../../../../../../node_modules/@vonage/vivid-tokens/dist/sass/themes/consts' as theme-consts;
@use 'functions' as functions;
@use 'variables' as variables;
@use 'config' as config;


////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
$selectors: (
  idle: '&',
  hover: '&:hover:not(:disabled, .disabled), &.hovered:not(:disabled, .disabled)',
  disabled: '&:disabled , &.disabled',
  selected: '&.selected',
  active: '&:active:not(:disabled, .disabled), &.active:not(:disabled, .disabled)',
);

@mixin appearance {

  @each $state in config.$states {
    #{map.get($selectors, $state)} {

      $state-mapping: map.get(variables.$states-mapping, $state);

      @each $appearance in config.$appearances {
        $selector: if($appearance == config.$default, '&', '&.appearance-#{$appearance}');


        #{$selector} {
          $appearance-mapping: map.get($state-mapping, $appearance);
          @each $type, $key in $appearance-mapping {
            #{functions.get-appearance-token($type)}: $key;
          }
        }
      }
    }
  }
}

