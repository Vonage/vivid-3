@use '@repo/shared/mixins/focus' as focus;
@use '@repo/shared/mixins/focus' as focus-variables;
@use '@repo/shared/mixins/border-radius' as border-radius-variables;
@use 'partials/variables' as variables;

.palette {
	display: grid;
	grid-template-columns: repeat(
		var(--swatches-per-row, 7),
		var(#{variables.$color-swatch-size}, 24px)
	);
}

.swatch {
	position: relative;
	padding: 0;
	border-radius: #{border-radius-variables.$border-radius-semi-condensed};
	background-color: var(--swatch-color);
	block-size: var(#{variables.$color-swatch-size}, 24px);
	color: var(--vvd-color-canvas);
	cursor: pointer;
	inline-size: var(#{variables.$color-swatch-size}, 24px);

	&:not(.contrast) {
		border: none;
	}

	&.contrast {
		border: 1px solid var(--vvd-color-neutral-400);
		color: var(--vvd-color-canvas-text);
	}

	&:focus-visible {
		outline: none;

		@include focus.focus;
		#{focus-variables.$focus-stroke-gap-color}: transparent;
		#{focus-variables.$focus-inset}: -3px;
	}
}
