@use "sass:list";
@use "../../../../shared/src/lib/sass/utils" as utils;
@use "../../../../shared/src/lib/sass/mixins/elevation" as elevation;

$dps: 0 2 4 8 12 16 24;

:host {
	display: contents;
}

.control {
	$default: list.nth($dps, 2);

	display: contents;

	@include utils.spread-list-selectors(".dp", $dps, $default) using ($type) {
		@include elevation.elevation($type);
	}

	::slotted(*) {
		position: relative;

		@include utils.spread-list-selectors(".dp", $dps, $default) using($type) {
			@include elevation.elevation($type);
		}

		&:before {
			$default: list.nth($dps, 2);
			content: "";
			position: absolute;
			inset-block-start: 0;
			inset-inline-start: 0;
			inline-size: 100%;
			block-size: 100%;
			filter: var(elevation.$vvd-elevation-shadow);
			background: var(elevation.$vvd-elevation-fill);
			transition: background-color 0.15s linear, filter 0.15s linear;
			border-radius: inherit;
			z-index: -1;
		}
	}


	&.no-shadow {
		::slotted(*) {
			&:before {
				filter: none;
			}
		}
	}
}
