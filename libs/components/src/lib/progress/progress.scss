@use '../../../../../node_modules/@vonage/vivid-tokens/dist/sass/themes/consts' as theme-consts;

@use '../../../../shared/src/lib/sass/mixins/connotation/config' with (
	$subset: primary cta success alert warning info,
	$default: primary,
);
@use '../../../../shared/src/lib/sass/mixins/connotation' as connotation;
@use '../../../../shared/src/lib/sass/mixins/appearance/config' as appearance-config with (
	$subset: filled ghost,
	$default: filled,
);
@use '../../../../shared/src/lib/sass/mixins/appearance' as appearance;

$block-size: 6px;

:host {
	@include connotation.connotation;

	height: $block-size;
	align-items: center;
	margin: 0;
	outline: none;
}

.progress {
	position: relative;
	display: flex;
	width: 100%;
	height: 100%;
	align-items: center;
	background-color: var(#{theme-consts.$vvd-color-neutral-20});
}

.determinate {
	display: flex;
	height: 100%;
	background-color: var(#{connotation.$vvd-color-connotation});
	transition: all 0.2s ease-in-out;
}
.indeterminate {
	position: relative;
	display: flex;
	overflow: hidden;
	width: 100%;
	height: 100%;
}
.indeterminate-indicator-1 {
	position: absolute;
	width: 40%;
	height: 100%;
	animation: indeterminate-1 2s infinite;
	animation-timing-function: cubic-bezier(0.4, 0, 0.6, 1);
	background-color: var(#{connotation.$vvd-color-connotation});
	opacity: 0;
}
.indeterminate-indicator-2 {
	position: absolute;
	width: 60%;
	height: 100%;
	animation: indeterminate-2 2s infinite;
	animation-timing-function: cubic-bezier(0.4, 0, 0.6, 1);
	background-color: var(#{connotation.$vvd-color-connotation});
	opacity: 0;
}
:host([paused]) .indeterminate-indicator-1,
:host([paused]) .indeterminate-indicator-2 {
	animation-play-state: paused;
	background-color: var(#{theme-consts.$vvd-color-neutral-20});
}
:host([paused]) .determinate {
	background-color: var(#{theme-consts.$vvd-color-neutral-20});
}
@keyframes indeterminate-1 {
	0% {
		opacity: 1;
		transform: translateX(-100%);
	}
	70% {
		opacity: 1;
		transform: translateX(300%);
	}
	70.01% {
		opacity: 0;
	}
	100% {
		opacity: 0;
		transform: translateX(300%);
	}
}
@keyframes indeterminate-2 {
	0% {
		opacity: 0;
		transform: translateX(-150%);
	}
	29.99% {
		opacity: 0;
	}
	30% {
		opacity: 1;
		transform: translateX(-150%);
	}
	100% {
		opacity: 1;
		transform: translateX(166.66%);
	}
}
