@use "../focus/partials/variables" as focus-variables;
@use "partials/variables" as variables;

@use "../../../../shared/src/lib/sass/utils" as utils;
@use "../../../../shared/src/lib/sass/mixins/connotation/config" with (
	$connotations: accent cta,
	$shades: fierce firm pale faint,
	$default: accent
);
@use "../../../../shared/src/lib/sass/mixins/connotation" as connotation;

@use "../../../../shared/src/lib/sass/mixins/appearance/config" as appearance-config with (
	$appearances: duotone,
	$states: idle hover active,
	$default: duotone
);
@use "../../../../shared/src/lib/sass/mixins/appearance" as appearance;

@supports selector(:focus-visible) {
	.base:focus-visible {
		outline: none;
	}
}

:host {
	display: flex;
}

.base {
	@include connotation.connotation(selectable-box);
	@include appearance.appearance;

	#{variables.$size-unit}: 16px;

	position: relative;
	min-height: calc(var(#{variables.$size-unit}) * 2 + 22px);
	padding: var(#{variables.$size-unit});
	border: 1px solid var(#{appearance.get-appearance-token(outline)});
	background-color: var(#{appearance.get-appearance-token(fill)});
	border-radius: 6px;
	inline-size: 100%;
	padding-block-start: calc(var(#{variables.$size-unit}) + 36px);
	text-align: start;

	&.size-condensed {
		#{variables.$size-unit}: 8px;
	}

	&.tight {
		padding: 0;
	}

	&.clickable {
		cursor: pointer;
	}
}

.base:not(.clickable):not(.active) {
	&:hover, &.active {
		border-color: var(#{utils.get-color-token(neutral-300)});
	}
}

.focus-indicator {
	#{focus-variables.$focus-stroke-gap-color}: transparent;
	#{focus-variables.$focus-inset}: -1px;

	pointer-events: none;

	.base:not(:focus-visible) > & {
		display: none;
	}
}

.control {
	position: absolute;
	inset-block-start: var(#{variables.$size-unit});
	inset-inline-end: var(#{variables.$size-unit});
}