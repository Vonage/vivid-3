@use "partials/variables" as variables;

@use "../../../../../dist/libs/tokens/scss/tokens.constants" as constants;

@use "../../../../shared/src/lib/sass/mixins/connotation/config" with (
	$connotations: accent success information alert warning,
	$shades: primary primary-text,
	$default: accent
);
@use "../../../../shared/src/lib/sass/mixins/connotation" as connotation;
@use "../../../../shared/src/lib/sass/mixins/appearance/config" as appearance-config with (
	$appearances: ghost,
	$default: ghost
);
@use "../../../../shared/src/lib/sass/mixins/appearance" as appearance;
@use "../../../../../dist/libs/tokens/scss/size.variables" as size;

$alert-transition-delay: --transition-delay;

.control {
	position: fixed;

	// placement

	left: 50%;

	&.placement-bottom,
	&.placement-bottom-start,
	&.placement-bottom-end {
		bottom: 0;
	}

	&.placement-top,
	&.placement-top-start,
	&.placement-top-end {
		top: 0;
	}

	&.placement-top-start,
	&.placement-bottom-start {
		left: 100%;
	}

	&.placement-top-end,
	&.placement-bottom-end {
		left: 0%;
	}

	&:not(.open) {
		opacity: 0;
	}

	&.open {
		opacity: 1;
	}

	border-radius: 6px;
	inline-size: max-content;
	min-inline-size: var(#{variables.$alert-min-inline-size}, 420px);
	transition: opacity var(#{$alert-transition-delay}, 200ms);
}

.base {
	@include connotation.connotation;
	@include appearance.appearance;

	display: flex;
	align-items: center;
	padding: 16px;
	background-color: var(--vvd-color-neutral-50);
	border-radius: 6px;
	color: var(#{constants.$vvd-color-canvas-text});
	column-gap: 16px;

	.alert-text {
		display: flex;
		flex-direction: column;
		gap: 4px;
		justify-self: flex-start;
		margin-inline-end: auto;

		.headline {
			font: var(#{constants.$vvd-typography-base-bold});
		}

		.subtitle {
			font: var(#{constants.$vvd-typography-base});
		}
	}

	.icon {
		flex-shrink: 0;
		color: var(#{appearance.get-appearance-token(text)});
		font-size: 20px;
		line-height: 1;
	}

	.dismiss-button {
		border-left: 1px solid var(--vvd-color-neutral-200);
		padding-inline-start: 8px;
	}
}
