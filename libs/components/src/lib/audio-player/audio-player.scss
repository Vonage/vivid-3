@use "../focus/partials/variables" as focus-variables;
@use "../../../../../dist/libs/tokens/scss/tokens.constants" as constants;

@use "../../../../shared/src/lib/sass/mixins/connotation/config" with (
	$connotations: accent cta,
	$shades: primary primary-text,
	$default: accent
);
@use "../../../../shared/src/lib/sass/mixins/connotation" as connotation;
@use "../../../../shared/src/lib/sass/mixins/appearance/config" as appearance-config with (
	$appearances: filled,
	$states: idle hover disabled active,
	$default: filled
);

@use "../../../../shared/src/lib/sass/mixins/appearance" as appearance;

.base {
	@include connotation.connotation(audio-player);
	@include appearance.appearance;

	display: inline-flex;
	align-items: center;
	padding: 8px;
	background-color: var(#{constants.$vvd-color-canvas});
	border-radius: 4px;
	color: var(#{constants.$vvd-color-canvas-text});
	user-select: none;

	&.disabled {
		cursor: not-allowed;
		pointer-events: none;
	}

	.slider {
		position: relative;
		background-color: var(#{constants.$vvd-color-neutral-50});
		block-size: 4px;
		border-radius: 2px;
		cursor: pointer;
		margin-inline-end: 16px;
		margin-inline-start: 8px;
		min-inline-size: 200px;
	}

	.progress {
		position: absolute;
		z-index: 1;
		background-color: var(#{constants.$vvd-color-neutral-300});
		block-size: 100%;
		border-radius: inherit;
		inline-size: 0;
		pointer-events: none;
	}

	.pin {
		position: absolute;
		background-color: var(#{appearance.get-appearance-token(fill)});
		block-size: 12px;
		border-radius: 50%;
		inline-size: 12px;
		inset-block-start: -4px;
		inset-inline-end: -8px;
		pointer-events: all;

		&::before {
			position: absolute;
			z-index: -1;
			display: block;
			background-color: var(#{appearance.get-appearance-token(fill)});
			block-size: 0;
			border-radius: inherit;
			content: "";
			inline-size: 0;
			inset-block-start: 50%;
			inset-inline-start: 50%;
			opacity: 0;
			transform: translate(-50%, -50%);
			transition:
				opacity 0.2s ease-in-out,
				inline-size 0.2s ease-in-out,
				block-size 0.2s ease-in-out;
		}
		&:active {
			&::before {
				block-size: 30px;
				inline-size: 30px;
				opacity: 0.1;
			}
		}
	}

	.controls {
		display: flex;
		align-items: center;
	}

	.current-time,
	.total-time {
		margin-inline: 6px;
		min-inline-size: 32px;
	}
}
