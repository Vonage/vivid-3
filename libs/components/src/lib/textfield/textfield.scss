@use '../../../../shared/src/lib/sass/mixins/typography' as typography;
@use '../../../../../node_modules/@vonage/vivid-tokens/dist/sass/themes/consts' as theme-consts;

@use '../../../../shared/src/lib/sass/mixins/connotation/config' with (
	$subset: primary,
	$shades: basis basis-increment contrast fierce firm,
	$default: primary,
);
@use '../../../../shared/src/lib/sass/mixins/connotation' as connotation;

@use '../../../../shared/src/lib/sass/mixins/appearance/config' as appearance-config with (
	$appearances: outlined ghost,
	$states: idle hover disabled active,
	$default: outlined,
);
@use '../../../../shared/src/lib/sass/mixins/appearance' as appearance;

.root {
	color: var(#{theme-consts.$vvd-color-neutral-70});

	&.active,
	&.placeholder,
	:host(:focus) & {
		.label {
			transform: translateY(-7px);
			@include typography.typography-cat-shorthand('caption')
		}
	}

	:host([char-count]) & {
		padding-top: 24px;
	}

	&:where(:not(.placeholder, .active)) {
		.label {
			transform: translateY(0);
			@include typography.typography-cat-shorthand('body-1');
		}
	}
}

.form-field {
	@include connotation.connotation;
	@include appearance.appearance;

	position: relative;
	height: 48px;
	box-sizing: border-box;
	background: var(#{theme-consts.$vvd-color-canvas});


	:not(.shape-pill) & {
		border-radius: 6px;
	}
	.shape-pill & {
		border-radius: 24px;
	}

	:not(.appearance-ghost) & {
		border: 1px solid var(#{theme-consts.$vvd-color-neutral-70});
	}


	&:focus-visible,
	&:focus,
	&:hover {
		border-color: var(#{theme-consts.$vvd-color-primary});
	}
}

.control {
	@include typography.typography-cat-shorthand('body-2');

	width: 100%;
	height: 100%;
	align-self: flex-end;
	padding: 16px 16px 1px;
	border: 0;
	appearance: none;
	background-color: transparent;
	border-radius: inherit;
	color: var(#{theme-consts.$vvd-color-primary});
	outline: 0;
}

.label {
	@include typography.typography-cat-shorthand('body-1');

	position: absolute;
	top: 12px;
	padding: 0 16px;
	transform: translateY(0);
}

.helper-text {
	@include typography.typography-cat-shorthand('caption');

	display: inline-block;
	margin-top: 4px;
	margin-left: 16px;
}

.error-message {
	@include typography.typography-cat-shorthand('caption');

	display: inline-block;
	margin-top: 4px;
	margin-left: 16px;
	color: var(#{theme-consts.$vvd-color-alert});
}

.char-count {
	position: absolute;
	top: -24px;
	right: 0;
}
